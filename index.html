<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Consulting Conversation Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --bg: #0f172a;
      --panel: #111827;
      --card: #1f2933;
      --accent: #38bdf8;
      --muted: #94a3b8;
      --danger: #f87171;
      --success: #4ade80;
      --text: #e5e7eb;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
      margin: 0;
      background: linear-gradient(180deg, #020617, #0f172a);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 32px;
    }

    .app {
      max-width: 900px;
      width: 100%;
    }

    header {
      margin-bottom: 24px;
    }

    h1 {
      font-size: 28px;
      margin: 0;
      font-weight: 700;
    }

    .subtitle {
      color: var(--muted);
      margin-top: 6px;
      font-size: 14px;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .scenario {
      line-height: 1.6;
      font-size: 16px;
    }

    textarea {
      width: 100%;
      min-height: 140px;
      background: #020617;
      border: 1px solid #1e293b;
      border-radius: 8px;
      padding: 14px;
      color: var(--text);
      font-size: 15px;
      resize: vertical;
    }

    textarea:focus {
      outline: none;
      border-color: var(--accent);
    }

    button {
      background: var(--accent);
      color: #020617;
      border: none;
      padding: 12px 18px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.1s ease, opacity 0.1s ease;
    }

    button:hover {
      transform: translateY(-1px);
      opacity: 0.9;
    }

    .score {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .score.good { color: var(--success); }
    .score.ok { color: var(--accent); }
    .score.bad { color: var(--danger); }

    .feedback ul {
      padding-left: 20px;
    }

    .feedback li {
      margin-bottom: 8px;
    }

    footer {
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      margin-top: 40px;
    }
  </style>
</head>

<body>
  <div class="app">

    <header>
      <h1>Consulting Conversation Simulator</h1>
      <div class="subtitle">
        Partner-level objections · Commercial framing · Low-risk positioning
      </div>
    </header>

    <div class="card">
      <div class="label">Situation 9</div>
      <div class="scenario">
        You’re speaking to a managing partner of a small advisory firm in Melaka.
        <br><br>
        He says:
        <br><br>
        <strong>“You’re sharp, but we don’t usually take short-term people. It’s not worth the effort.”</strong>
      </div>
    </div>

    <div class="card">
      <div class="label">Your Response</div>
      <textarea id="response" placeholder="Type what you would say next..."></textarea>
      <br><br>
      <button onclick="evaluateResponse()">Evaluate Response</button>
    </div>

    <div class="card" id="result" style="display:none;">
      <div class="label">Assessment</div>
      <div id="score" class="score"></div>
      <div class="feedback" id="feedback"></div>
    </div>

    <footer>
      MVP build · Static mode (GitHub Pages)
    </footer>

  </div>

<script>
function evaluateResponse() {
  const text = document.getElementById("response").value.toLowerCase();
  const result = document.getElementById("result");
  const scoreEl = document.getElementById("score");
  const feedbackEl = document.getElementById("feedback");

  let score = 50;
  let positives = [];
  let negatives = [];

  // Heuristic scoring (mock AI logic)
  if (text.includes("understand") || text.includes("fair")) {
    score += 10;
    positives.push("You validated their position instead of resisting it.");
  }

  if (text.includes("specific") || text.includes("task") || text.includes("problem")) {
    score += 15;
    positives.push("You framed your value around a defined, contained scope.");
  }

  if (text.includes("risk") || text.includes("low-risk") || text.includes("test")) {
    score += 10;
    positives.push("You reduced perceived hiring risk.");
  }

  if (text.includes("short-term") && text.includes("value")) {
    score += 5;
    positives.push("You positioned short-term as intentional, not temporary.");
  }

  if (text.includes("please") || text.includes("hope")) {
    score -= 10;
    negatives.push("Language slightly leans toward permission-seeking.");
  }

  if (text.length < 120) {
    score -= 10;
    negatives.push("Response may be too brief to fully reframe value.");
  }

  // Clamp score
  score = Math.max(0, Math.min(100, score));

  // Score color
  let scoreClass = "ok";
  if (score >= 75) scoreClass = "good";
  if (score < 50) scoreClass = "bad";

  scoreEl.textContent = score + "/100";
  scoreEl.className = "score " + scoreClass;

  // Feedback HTML
  let html = "";

  if (positives.length) {
    html += "<strong>What worked:</strong><ul>";
    positives.forEach(p => html += `<li>${p}</li>`);
    html += "</ul>";
  }

  if (negatives.length) {
    html += "<strong>What weakened it:</strong><ul>";
    negatives.forEach(n => html += `<li>${n}</li>`);
    html += "</ul>";
  }

  html += `
    <strong>Partner-level suggestion:</strong>
    <ul>
      <li>Explicitly name what effort they <em>don’t</em> need to invest.</li>
      <li>Anchor upside: insight, pattern recognition, or blind-spot coverage.</li>
      <li>Offer a time-boxed test with a clear exit.</li>
    </ul>
  `;

  feedbackEl.innerHTML = html;
  result.style.display = "block";
  result.scrollIntoView({ behavior: "smooth" });
}
</script>

</body>
</html>
