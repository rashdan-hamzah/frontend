<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Consulting Conversation Trainer</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root {
  --bg:#020617;
  --card:#0f172a;
  --panel:#020617;
  --accent:#38bdf8;
  --muted:#94a3b8;
  --success:#4ade80;
  --danger:#f87171;
  --text:#e5e7eb;
}

* { box-sizing:border-box; font-family:system-ui,-apple-system,sans-serif }

body {
  margin:0;
  background:linear-gradient(180deg,#020617,#020617);
  color:var(--text);
  padding:32px;
  display:flex;
  justify-content:center;
}

.app { max-width:1000px; width:100%; }

h1 { margin:0; font-size:28px }
.subtitle { color:var(--muted); font-size:14px; margin-top:6px }

.card {
  background:var(--card);
  padding:20px;
  border-radius:12px;
  margin-bottom:20px;
  box-shadow:0 10px 30px rgba(0,0,0,.4);
}

.label {
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.08em;
  color:var(--muted);
  margin-bottom:6px;
}

.grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:12px;
}

select, textarea {
  width:100%;
  background:var(--panel);
  border:1px solid #1e293b;
  border-radius:8px;
  padding:12px;
  color:var(--text);
  font-size:14px;
}

textarea { min-height:140px; resize:vertical }

select:focus, textarea:focus {
  outline:none;
  border-color:var(--accent);
}

button {
  background:var(--accent);
  color:#020617;
  border:none;
  padding:12px 18px;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}

.score {
  font-size:34px;
  font-weight:700;
}

.good { color:var(--success) }
.ok { color:var(--accent) }
.bad { color:var(--danger) }

.progress {
  display:flex;
  justify-content:space-between;
  margin-top:10px;
  font-size:13px;
}

footer {
  text-align:center;
  color:var(--muted);
  font-size:12px;
  margin-top:40px;
}
</style>
</head>

<body>
<div class="app">

<header>
<h1>Consulting Conversation Trainer</h1>
<div class="subtitle">Industry · Stakeholder · Commercial judgment</div>
</header>

<div class="card">
<div class="label">Scenario Filters</div>
<div class="grid">
<select id="industry">
<option value="">Industry (Any)</option>
<option>Professional Services</option>
<option>Healthcare</option>
<option>Retail</option>
<option>Manufacturing</option>
</select>

<select id="department">
<option value="">Department (Any)</option>
<option>Finance</option>
<option>Operations</option>
<option>Sales</option>
<option>Management</option>
</select>

<select id="stakeholder">
<option value="">Stakeholder (Any)</option>
<option>Owner</option>
<option>Managing Partner</option>
<option>CFO</option>
<option>Manager</option>
</select>

<select id="type">
<option value="">Conversation Type (Any)</option>
<option>Fee Resistance</option>
<option>Capability Pushback</option>
<option>Short-Term Objection</option>
<option>Decision Delay</option>
</select>

<select id="random">
<option value="no">Mode: Filtered</option>
<option value="yes">Mode: Random</option>
</select>
</div>
</div>

<div class="card">
<div class="label">Scenario</div>
<div id="scenarioText"></div>
</div>

<div class="card">
<div class="label">Your Response</div>
<textarea id="response"></textarea><br><br>
<button onclick="evaluate()">Evaluate</button>
</div>

<div class="card" id="result" style="display:none">
<div class="label">Assessment</div>
<div id="score" class="score"></div>
<div id="level"></div>
<div id="feedback"></div>
</div>

<footer>
Static MVP · GitHub Pages · Progression enabled
</footer>

</div>

<script>
let totalScore = 0;
let attempts = 0;

const levels = [
  { name:"Trainee", min:0 },
  { name:"Consultant", min:60 },
  { name:"Senior Consultant", min:70 },
  { name:"Advisor", min:80 },
  { name:"Partner-Level", min:90 }
];

const scenarios = [
{
industry:"Professional Services",
department:"Management",
stakeholder:"Managing Partner",
type:"Short-Term Objection",
text:"“You’re sharp, but we don’t usually take short-term people. It’s not worth the effort.”"
},
{
industry:"Healthcare",
department:"Finance",
stakeholder:"Owner",
type:"Fee Resistance",
text:"“Your fee feels expensive. Other advisors charge less.”"
},
{
industry:"Retail",
department:"Operations",
stakeholder:"Manager",
type:"Capability Pushback",
text:"“We already handle this internally.”"
},
{
industry:"Manufacturing",
department:"Management",
stakeholder:"CFO",
type:"Decision Delay",
text:"“Let’s revisit this next quarter.”"
}
];

loadScenario();

function loadScenario() {
const randomMode = document.getElementById("random").value === "yes";

let pool = scenarios.filter(s => {
if (randomMode) return true;
return (!industry.value || s.industry===industry.value)
&& (!department.value || s.department===department.value)
&& (!stakeholder.value || s.stakeholder===stakeholder.value)
&& (!type.value || s.type===type.value);
});

if (pool.length===0) pool = scenarios;
const s = pool[Math.floor(Math.random()*pool.length)];
document.getElementById("scenarioText").textContent = s.text;
}

document.querySelectorAll("select").forEach(el => el.addEventListener("change", loadScenario));

function evaluate() {
const text = response.value.toLowerCase();
let score = 50;
let notes = [];

if (text.includes("understand")||text.includes("fair")) {
score+=10; notes.push("Validated stakeholder position.");
}
if (text.includes("risk")||text.includes("test")||text.includes("pilot")) {
score+=15; notes.push("Reduced perceived risk.");
}
if (text.includes("specific")||text.includes("scope")||text.includes("task")) {
score+=10; notes.push("Defined clear scope.");
}
if (text.includes("next step")||text.includes("decide")) {
score+=10; notes.push("Introduced decision momentum.");
}
if (text.includes("please")||text.includes("hope")) {
score-=10; notes.push("Tone slightly permission-seeking.");
}

score=Math.max(0,Math.min(100,score));

attempts++;
totalScore+=score;
const avg=Math.round(totalScore/attempts);

let lvl=levels[0].name;
levels.forEach(l=>{ if(avg>=l.min) lvl=l.name });

scoreEl.textContent = score+"/100";
scoreEl.className="score "+(score>=75?"good":score<50?"bad":"ok");
level.innerHTML = `<strong>Current Level:</strong> ${lvl} <div class="progress"><span>Avg Score: ${avg}</span><span>Attempts: ${attempts}</span></div>`;

feedback.innerHTML = "<ul>"+notes.map(n=>`<li>${n}</li>`).join("")+"</ul><strong>Upgrade:</strong> Push commercial downside and force a clean decision path.";

result.style.display="block";
result.scrollIntoView({behavior:"smooth"});
response.value="";
loadScenario();
}
</script>

</body>
</html>
