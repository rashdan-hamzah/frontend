<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Consulting Conversation Simulator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root {
      --bg: #020617;
      --card: #0f172a;
      --panel: #020617;
      --accent: #38bdf8;
      --muted: #94a3b8;
      --danger: #f87171;
      --success: #4ade80;
      --text: #e5e7eb;
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    }

    body {
      margin: 0;
      background: linear-gradient(180deg, #020617, #020617);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      padding: 32px;
    }

    .app {
      max-width: 900px;
      width: 100%;
    }

    header {
      margin-bottom: 24px;
    }

    h1 {
      font-size: 28px;
      margin: 0;
      font-weight: 700;
    }

    .subtitle {
      color: var(--muted);
      margin-top: 6px;
      font-size: 14px;
    }

    .card {
      background: var(--card);
      border-radius: 12px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.4);
    }

    .label {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--muted);
      margin-bottom: 8px;
    }

    .scenario {
      line-height: 1.6;
      font-size: 16px;
    }

    select, textarea {
      width: 100%;
      background: var(--panel);
      border: 1px solid #1e293b;
      border-radius: 8px;
      padding: 14px;
      color: var(--text);
      font-size: 15px;
    }

    select {
      cursor: pointer;
    }

    textarea {
      min-height: 140px;
      resize: vertical;
    }

    textarea:focus, select:focus {
      outline: none;
      border-color: var(--accent);
    }

    button {
      background: var(--accent);
      color: #020617;
      border: none;
      padding: 12px 18px;
      border-radius: 8px;
      font-weight: 600;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.1s ease, opacity 0.1s ease;
    }

    button:hover {
      transform: translateY(-1px);
      opacity: 0.9;
    }

    .score {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
    }

    .score.good { color: var(--success); }
    .score.ok { color: var(--accent); }
    .score.bad { color: var(--danger); }

    ul {
      padding-left: 20px;
    }

    li {
      margin-bottom: 8px;
    }

    footer {
      text-align: center;
      font-size: 12px;
      color: var(--muted);
      margin-top: 40px;
    }
  </style>
</head>

<body>
<div class="app">

  <header>
    <h1>Consulting Conversation Simulator</h1>
    <div class="subtitle">
      Practice real objections · Partner-level framing · Commercial clarity
    </div>
  </header>

  <div class="card">
    <div class="label">Choose Situation</div>
    <select id="scenarioSelect" onchange="loadScenario()"></select>
  </div>

  <div class="card">
    <div class="label" id="scenarioTitle"></div>
    <div class="scenario" id="scenarioText"></div>
  </div>

  <div class="card">
    <div class="label">Your Response</div>
    <textarea id="response" placeholder="Type what you would say next..."></textarea>
    <br><br>
    <button onclick="evaluateResponse()">Evaluate Response</button>
  </div>

  <div class="card" id="result" style="display:none;">
    <div class="label">Assessment</div>
    <div id="score" class="score"></div>
    <div id="feedback"></div>
  </div>

  <footer>
    Static MVP · GitHub Pages compatible
  </footer>

</div>

<script>
const scenarios = [
  {
    id: 1,
    title: "Situation 1 – Short-Term Objection",
    text: `
You’re speaking to a managing partner of a small advisory firm in Melaka.

He says:

“You’re sharp, but we don’t usually take short-term people. It’s not worth the effort.”
    `,
    focus: ["low-risk", "specific", "contained"]
  },
  {
    id: 2,
    title: "Situation 2 – Fee Resistance",
    text: `
An SME owner says:

“Honestly, your fee feels high. Other people charge less.”
    `,
    focus: ["value", "upside", "comparison"]
  },
  {
    id: 3,
    title: "Situation 3 – Internal Capability Pushback",
    text: `
The owner responds:

“We already have staff doing this internally. I don’t see why we need help.”
    `,
    focus: ["blind spot", "outside view", "risk"]
  },
  {
    id: 4,
    title: "Situation 4 – Decision Dragging",
    text: `
After several discussions, the owner says:

“Let me think about it first. I’ll get back to you.”
    `,
    focus: ["decision path", "next step", "momentum"]
  },
  {
    id: 5,
    title: "Situation 5 – Existing Advisor",
    text: `
The owner tells you:

“We already have an accountant/advisor handling this.”
    `,
    focus: ["complement", "gap", "non-threatening"]
  }
];

const select = document.getElementById("scenarioSelect");

scenarios.forEach(s => {
  const opt = document.createElement("option");
  opt.value = s.id;
  opt.textContent = s.title;
  select.appendChild(opt);
});

loadScenario();

function loadScenario() {
  const scenario = scenarios.find(s => s.id == select.value);
  document.getElementById("scenarioTitle").textContent = scenario.title;
  document.getElementById("scenarioText").textContent = scenario.text.trim();
  document.getElementById("result").style.display = "none";
  document.getElementById("response").value = "";
}

function evaluateResponse() {
  const text = document.getElementById("response").value.toLowerCase();
  const scenario = scenarios.find(s => s.id == select.value);

  let score = 50;
  let positives = [];
  let negatives = [];

  if (text.includes("understand") || text.includes("fair")) {
    score += 10;
    positives.push("You acknowledged their position without resistance.");
  }

  if (text.includes("specific") || text.includes("task") || text.includes("scope")) {
    score += 10;
    positives.push("You defined a contained scope instead of vague help.");
  }

  if (text.includes("risk") || text.includes("test") || text.includes("trial")) {
    score += 10;
    positives.push("You reduced perceived downside for them.");
  }

  if (text.includes("value") || text.includes("impact") || text.includes("outcome")) {
    score += 10;
    positives.push("You framed your role around outcomes, not effort.");
  }

  if (text.includes("please") || text.includes("hope")) {
    score -= 10;
    negatives.push("Language leans toward permission-seeking.");
  }

  if (text.length < 120) {
    score -= 10;
    negatives.push("Response may be too short to reframe the objection.");
  }

  score = Math.max(0, Math.min(100, score));

  const scoreEl = document.getElementById("score");
  scoreEl.textContent = score + "/100";
  scoreEl.className = "score " + (score >= 75 ? "good" : score < 50 ? "bad" : "ok");

  let feedback = "";

  if (positives.length) {
    feedback += "<strong>What worked:</strong><ul>";
    positives.forEach(p => feedback += `<li>${p}</li>`);
    feedback += "</ul>";
  }

  if (negatives.length) {
    feedback += "<strong>What weakened it:</strong><ul>";
    negatives.forEach(n => feedback += `<li>${n}</li>`);
    feedback += "</ul>";
  }

  feedback += `
<strong>Consultant-level upgrade:</strong>
<ul>
  <li>Explicitly state what degrades if no action is taken.</li>
  <li>Offer a time-boxed, low-effort next step.</li>
  <li>Anchor your role as risk containment, not assistance.</li>
</ul>
  `;

  document.getElementById("feedback").innerHTML = feedback;
  document.getElementById("result").style.display = "block";
  document.getElementById("result").scrollIntoView({ behavior: "smooth" });
}
</script>

</body>
</html>
